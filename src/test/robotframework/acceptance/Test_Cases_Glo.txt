*** Settings ***
Documentation  A resource file containing the application specific keywords
Library		robotframework.keywords.AddCustomKeywords
Library     SeleniumLibrary
Suite Setup  Go To Homepage
Suite Teardown  TearDown

*** Variables ***
${URL}  https://glo.globallogic.com/apps/glo/login
${BROWSER}  chrome
${PROFILE1}  xpath=//*[@id="myNav"]/ul[1]/li[2]/a


*** Keywords ***



Go To Homepage
 	StartRecording

TearDown
	ClosesBrowser
	Close Browser 	
	
Given I Am At Glo Login Page
	Open Browser  ${URL}  ${BROWSER}
 	Maximize Browser Window
 
When I Login To Glo
	[Arguments]  ${user}  ${password}
	Input Text  id=login   ${user}
	Input Text  id=password  ${password}
	Press Key  id=password  \\13
	Sleep  10 s
	
When I Click Skip On Slide
	Element Should Be Visible  id=slideSkip
	Click Element  id=slideSkip 
	
Then I Am Logged In To Glo
	Element Should Be Visible  id=search

When I Click My Profile
	Element Should Be Visible  xpath=//*[@id="myNav"]/ul[1]/li[2]/a
	Click Element  xpath=//*[@id="myNav"]/ul[1]/li[2]/a
	
Then My Profile Page Is Opened
     Element Should Be Visible  xpath=//*[@id="profileTabs"]/li[1]/a
    
When I Navigate To Section 
#sections=
#1= Home 
#2= My Profile 
#3= Organization
#4= Communities
#5= Apps
	[Arguments]  ${leftsection}
	Element Should Be Visible  xpath=//*[@id="myNav"]/ul[1]/li[${leftsection}]/a  
	Click Element  xpath=//*[@id="myNav"]/ul[1]/li[${leftsection}]/a  
	
When I Search Profile
	[Arguments]  ${searchprofile}  
	Input Text  xpath=//*[@id="search"]   ${searchprofile}
	Press Key  xpath=//*[@id="search"]   \\13
	Sleep  9 s

Then I Am At Search Results Page
#not working
	Element Should Be Visible  xpath=//*[@id="search_results"]/div[1]/div/div/div[1]/div/h2/text()
	
When I Click Result
#Must receive Name.Surname Case sensitive.
	[Arguments]  ${resultname}
	Click Link  href=/users/profile/${resultname}
	
Then I Am At Profile

  
 
 *** Test Cases ***
 
TestCase 1 - Login into Glo 
	Given i Am At Glo Login Page 
	When I Login To Glo  diego.muner  !Globallogic01
	When I Click Skip On Slide
	Then i Am Logged In To Glo
	
#TestCase 2 - Navigate to My Profile	
	#When I Click My Profile
	#Then My Profile Page Is Opened
	#Sleep  4 s
	
TestCase 3 - Navigate To Left Menu Sections
	When I Navigate To Section  2
	Sleep  4 s
	Then My Profile Page Is Opened
	When I Search Profile  Juan Diaz
#	Then I Am At Search Results Page
	When I Click Result  Juan.Diaz
	Sleep  5 s
#	Then I Am At Profile  Juan Diaz